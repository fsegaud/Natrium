# vector normalisation

# jump over nop
mov r3 11
j r3
nop
nop
nop

# vector
mov r0 0
mov r1 -1
mov r2 2.5

# backup
push r0
push r1
push r2

# magnitude
mul r0 r0 r0
mul r1 r1 r1
mul r2 r2 r2
mov r3 r0
add r3 r3 r1
add r3 r3 r2
sqrt r3 r3

# restore
pop r2
pop r1
pop r0

# normalize
div r0 r0 r3
div r1 r1 r3
div r2 r2 r3

# test
assert r0 0
assert r1 -0.37139067
assert r2 0.9284767
